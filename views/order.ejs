<!DOCTYPE html>
<html>

<head>
    <!-- type="text/css"  -->
    <link rel="stylesheet" href="/css/orderTest.css" />
    <!-- <link rel="stylesheet" href="/css/order.css"> -->
    <link rel="stylesheet" href="/css/header.css" />
    <link rel="stylesheet" href="/css/footer.css" />
</head>

<body>
    <%-include('header.ejs') %>
        <div>
            <div class="orderPageContainer">
                <h3>ì£¼ ë¬¸ ì„œ</h3>
                <div class="orderBox">
                    <!-- ì£¼ë¬¸ìƒí’ˆì •ë³´  -->
                    <div class="productInfo">
                        <h4> ì£¼ë¬¸ ìƒí’ˆ ì •ë³´</h4>
                        <div class="orderBookInfoBox">
                            <img class="orderBookCover" src="../imgs/noImage.png" alt="ìƒí’ˆì‚¬ì§„">
                            <div class="orderBookInfo">
                                <div class="orderBookInfo_Category">
                                    <%=product.category%>
                                </div>
                                <div class="orderBookInfoTitle">
                                    <%=product.productName%>
                                </div>
                                <div class="orderBookInfoProductPrice">
                                    ê¶Œë‹¹&nbsp;
                                    <%=product.price.toLocaleString() %>
                                        &nbsp;ì›
                                </div>

                                <div class="add-book-count">
                                    <input type="number" step="1" min="1" value="1" id="books" name="itemCount"
                                        onchange="addCount()">&ensp;ê¶Œ
                                </div>

                                <div class="orderBookInfoDelivery">ë°°ì†¡ë¹„ 3,000ì› </div>
                            </div>
                        </div>
                    </div>



                    <!-- ë°°ì†¡ì§€/ìˆ˜ë ¹ì¸ ì •ë³´ -->
                    <div class="orderUserInfo">

                        <div class='title-write'>
                            <h4> ë°°ì†¡ì§€ / ìˆ˜ë ¹ì¸ ì •ë³´</h4>
                        </div>

                        <div class="userInfoBox">

                            <table width="1500" height="300">
                                <tr height="90">
                                    <td width="300">
                                        ë°°ì†¡ë°›ì„ ì£¼ì†Œ
                                    </td>
                                    <td width="600">
                                        <input type="text" name="userAddress"
                                            value="<%=(userInfo!=null)?userInfo.address:''%>">
                                    </td>
                                </tr>
                                <tr height="70">
                                    <td>
                                        ì£¼ë¬¸ì ì´ë¦„
                                    </td>
                                    <td>
                                        <input type="text" name="userName"
                                            value="<%=(userInfo!=null)?userInfo.name:''%>">
                                    </td>
                                </tr>
                                <tr height="70">
                                    <td>
                                        ì£¼ë¬¸ì ì „í™”ë²ˆí˜¸
                                    </td>
                                    <td>
                                        <input type="text" name="userName"
                                            value="<%=(userInfo!=null)?userInfo.phone:''%>">
                                    </td>
                                </tr>
                            </table>

                        </div>
                    </div>



                    <!-- ê²°ì œë°©ë²• & ì´ ê²°ì œ ê¸ˆì•¡ BOX -->
                    <!-- ê²°ì œë°©ë²• -->
                    <div class=" makePaymentAndTotalPrice">
                        <div class="makePaymentBox">
                            <h4>ê²°ì œë°©ë²•</h4>
                            <div class="makePayments">

                                <a href="#">
                                    <div class="makePaymentBtn01">íœ´ëŒ€í°ê²°ì œ</div>
                                </a>
                                <a href="#">
                                    <div class="makePaymentBtn02">ì¹´ì¹´ì˜¤ í˜ì´</div>
                                </a>
                                <a href="#">
                                    <div class="makePaymentBtn03">ë¬´í†µì¥ ì…ê¸ˆ</div>
                                </a>
                            </div>
                        </div>
                        <div class="totalPriceBox">
                            <h4>ì´ ê²°ì œê¸ˆì•¡</h4>

                            <div class="totalPaymentInfo">

                                <div class="totalPriceBox01">
                                    <table width="400" height="250" class='total-price-table'>
                                        <tr height="50">
                                            <td width="80" class="total-price-title">
                                                ìƒí’ˆ ê¸ˆì•¡
                                            </td>
                                            <td width=80 class="total-price-input">
                                                <input type="text" name="bookPrice" id='countBooks'
                                                    value=<%=(product.price).toLocaleString()%>&nbsp;ì›
                                                >
                                            </td>
                                        </tr>
                                        <tr height="50" class="total-price-title">
                                            <td>
                                                ë°°ì†¡ë¹„
                                            </td>
                                            <td width="80" class="total-price-input">
                                                <input type="text" name="deliveryPee" value="3,000&nbsp;ì›">
                                            </td>
                                        </tr>
                                        <tr height="50" class="total-price-title">
                                            <td>
                                                ì´ ê²°ì œê¸ˆì•¡
                                            </td>
                                            <td width=80 class="total-price-input">
                                                <input type="text" name="totalPrice" id='countBooks2'
                                                    value=<%=(product.price+3000).toLocaleString()%>&nbsp;ì›
                                                >
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                                <form action="/user/orderCheck" method="get">
                                    <div class="totalPriceBox02">
                                        <input type="checkbox" style='zoom:1.2;' onClick="agreeCheck(this.form)"
                                            class="change-color" />
                                        ì£¼ë¬¸ ìƒí’ˆì˜ ìƒí’ˆëª… / ê°€ê²© / ë°°ì†¡ë¹„ìš© ì •ë³´ë¥¼ í™•ì¸í•˜ì˜€ìœ¼ë©°, êµ¬ë§¤ì— ë™ì˜í•©ë‹ˆë‹¤.
                                    </div>
                                    <div class="lastBtn">
                                        <input type="submit" onclick="moveOrderCheck()" name="checkButton" value="ê²°ì œí•˜ê¸°"
                                            class="totalPriceBox03" disabled />
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </form>

            <%-include('footer.ejs') %>
</body>
<script type="text/javascript">
    //êµ¬ë§¤í•˜ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ, alertì°½ ë„ìš°ê³  ì£¼ë¬¸ì¡°íšŒ í˜ì´ì§€ ì´ë™
    function moveOrderCheck() {
        let str =
            "ğŸ˜ì£¼ë¬¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ì£¼ë¬¸ì¡°íšŒ í˜ì´ì§€ë¡œ ì´ë™í•˜ì‹œê² ìŠµë‹ˆê¹Œ? \n ì·¨ì†Œ ì‹œ, ë©”ì¸í˜ì´ì§€ë¡œ ì´ë™ë©ë‹ˆë‹¤.";
        let type;
        type = confirm(str);

        if (type == true) {
            window.open("/myprofile/orders");
        } else {
            window.location.assign("/");
        }
    }

    //ì•½ê´€ë™ì˜ ì²´í¬í•˜ì§€ ì•Šìœ¼ë©´, êµ¬ë§¤í•˜ê¸° ë²„íŠ¼ì„ ë¹„í™œì„¤í™”
    function agreeCheck(frm) {
        if (frm.checkButton.disabled == true) {
            frm.checkButton.disabled = false;
        } else {
            frm.checkButton.disabled = true;
        }
    }

    function addCount() {

        let count = document.getElementById('books').value;
        var total = count * parseInt("<%=product.price %>");
        document.getElementById('countBooks').value = total.toLocaleString() + " ì›";
        document.getElementById('countBooks2').value = (total + 3000).toLocaleString() + " ì›";
        console.log(total);
    }
</script>

</html>